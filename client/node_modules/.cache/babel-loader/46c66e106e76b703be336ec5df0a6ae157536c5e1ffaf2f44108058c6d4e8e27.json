{"ast":null,"code":"import _objectSpread from\"/workspace/music_playlist/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";import{BrowserRouter,Route,Routes}from\"react-router-dom\";import ScrollToTop from\"./Components/scrollToTop\";import{Home}from\"./Pages/home.js\";// import { useParams } from \"react-router\";\nimport injectContext from\"./store/appContext\";import{Navbar}from\"./Components/Navbar\";import{Login}from\"./Pages/login.js\";import{UserProfile}from\"./Pages/userprofile.js\";import{ApolloClient,InMemoryCache,ApolloProvider,createHttpLink}from\"@apollo/client\";import{setContext}from\"@apollo/client/link/context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var httpLink=createHttpLink({uri:\"http://localhost:3001/graphql\"});var authLink=setContext(function(_,_ref){var headers=_ref.headers;var token=localStorage.getItem(\"id_token\");return{headers:_objectSpread(_objectSpread({},headers),{},{authorization:token?\"Bearer \".concat(token):\"\"})};});var client=new ApolloClient({link:authLink.concat(httpLink),cache:new InMemoryCache()});//create your first component\nvar Layout=function Layout(){//the basename is used when your project is published in a subdirectory and not in the root of the domain\n// you can set the basename on the .env file located at the root of this project, E.g: BASENAME=/react-hello-webapp/\nvar basename=process.env.BASENAME||\"\";return/*#__PURE__*/_jsx(ApolloProvider,{client:client,children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(BrowserRouter,{basename:basename,children:/*#__PURE__*/_jsxs(ScrollToTop,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{element:/*#__PURE__*/_jsx(Home,{}),path:\"/\"}),/*#__PURE__*/_jsx(Route,{element:/*#__PURE__*/_jsx(Login,{}),path:\"/login\"}),/*#__PURE__*/_jsx(Route,{element:/*#__PURE__*/_jsx(UserProfile,{}),path:\"/user\"}),/*#__PURE__*/_jsx(Route,{element:/*#__PURE__*/_jsx(\"h1\",{children:\"Not found!\"})})]})]})})})});};export default injectContext(Layout);","map":{"version":3,"names":["React","BrowserRouter","Route","Routes","ScrollToTop","Home","injectContext","Navbar","Login","UserProfile","ApolloClient","InMemoryCache","ApolloProvider","createHttpLink","setContext","jsx","_jsx","jsxs","_jsxs","httpLink","uri","authLink","_","_ref","headers","token","localStorage","getItem","_objectSpread","authorization","concat","client","link","cache","Layout","basename","process","env","BASENAME","children","element","path"],"sources":["/workspace/music_playlist/client/src/layout.js"],"sourcesContent":["import React from \"react\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport ScrollToTop from \"./Components/scrollToTop\";\n\nimport { Home } from \"./Pages/home.js\";\n// import { useParams } from \"react-router\";\nimport injectContext from \"./store/appContext\";\n\nimport { Navbar } from \"./Components/Navbar\";\nimport { Login } from \"./Pages/login.js\";\nimport { UserProfile } from \"./Pages/userprofile.js\";\n\nimport {\n  ApolloClient,\n  InMemoryCache,\n  ApolloProvider,\n  createHttpLink,\n} from \"@apollo/client\";\n\nimport { setContext } from \"@apollo/client/link/context\";\n\nconst httpLink = createHttpLink({\n  uri: \"http://localhost:3001/graphql\",\n});\n\nconst authLink = setContext((_, { headers }) => {\n  const token = localStorage.getItem(\"id_token\");\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : \"\",\n    },\n  };\n});\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n});\n\n//create your first component\nconst Layout = () => {\n  //the basename is used when your project is published in a subdirectory and not in the root of the domain\n  // you can set the basename on the .env file located at the root of this project, E.g: BASENAME=/react-hello-webapp/\n  const basename = process.env.BASENAME || \"\";\n\n  return (\n    <ApolloProvider client={client}>\n      <div>\n        <BrowserRouter basename={basename}>\n          <ScrollToTop>\n            <Navbar />\n            <Routes>\n            <Route element = {<Home />} path = \"/\" />\n              <Route element = {<Login />} path = \"/login\" />\n              <Route element = {<UserProfile />} path = \"/user\" />\n              <Route element = {<h1>Not found!</h1>} />\n              \n              \n            </Routes>\n          </ScrollToTop>\n          {/* <Footer /> */}\n        </BrowserRouter>\n      </div>\n    </ApolloProvider>\n  );\n};\n\nexport default injectContext(Layout);"],"mappings":"qHAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,aAAa,CAAEC,KAAK,CAAEC,MAAM,KAAQ,kBAAkB,CAC/D,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAElD,OAASC,IAAI,KAAQ,iBAAiB,CACtC;AACA,MAAO,CAAAC,aAAa,KAAM,oBAAoB,CAE9C,OAASC,MAAM,KAAQ,qBAAqB,CAC5C,OAASC,KAAK,KAAQ,kBAAkB,CACxC,OAASC,WAAW,KAAQ,wBAAwB,CAEpD,OACEC,YAAY,CACZC,aAAa,CACbC,cAAc,CACdC,cAAc,KACT,gBAAgB,CAEvB,OAASC,UAAU,KAAQ,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzD,GAAM,CAAAC,QAAQ,CAAGN,cAAc,CAAC,CAC9BO,GAAG,CAAE,+BACP,CAAC,CAAC,CAEF,GAAM,CAAAC,QAAQ,CAAGP,UAAU,CAAC,SAACQ,CAAC,CAAAC,IAAA,CAAkB,IAAd,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CACvC,GAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAC9C,MAAO,CACLH,OAAO,CAAAI,aAAA,CAAAA,aAAA,IACFJ,OAAO,MACVK,aAAa,CAAEJ,KAAK,WAAAK,MAAA,CAAaL,KAAK,EAAK,EAAE,EAEjD,CAAC,CACH,CAAC,CAAC,CAEF,GAAM,CAAAM,MAAM,CAAG,GAAI,CAAArB,YAAY,CAAC,CAC9BsB,IAAI,CAAEX,QAAQ,CAACS,MAAM,CAACX,QAAQ,CAAC,CAC/Bc,KAAK,CAAE,GAAI,CAAAtB,aAAa,CAAC,CAC3B,CAAC,CAAC,CAEF;AACA,GAAM,CAAAuB,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAA,CAAS,CACnB;AACA;AACA,GAAM,CAAAC,QAAQ,CAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,EAAI,EAAE,CAE3C,mBACEtB,IAAA,CAACJ,cAAc,EAACmB,MAAM,CAAEA,MAAO,CAAAQ,QAAA,cAC7BvB,IAAA,QAAAuB,QAAA,cACEvB,IAAA,CAACf,aAAa,EAACkC,QAAQ,CAAEA,QAAS,CAAAI,QAAA,cAChCrB,KAAA,CAACd,WAAW,EAAAmC,QAAA,eACVvB,IAAA,CAACT,MAAM,GAAE,CAAC,cACVW,KAAA,CAACf,MAAM,EAAAoC,QAAA,eACPvB,IAAA,CAACd,KAAK,EAACsC,OAAO,cAAIxB,IAAA,CAACX,IAAI,GAAE,CAAE,CAACoC,IAAI,CAAG,GAAG,CAAE,CAAC,cACvCzB,IAAA,CAACd,KAAK,EAACsC,OAAO,cAAIxB,IAAA,CAACR,KAAK,GAAE,CAAE,CAACiC,IAAI,CAAG,QAAQ,CAAE,CAAC,cAC/CzB,IAAA,CAACd,KAAK,EAACsC,OAAO,cAAIxB,IAAA,CAACP,WAAW,GAAE,CAAE,CAACgC,IAAI,CAAG,OAAO,CAAE,CAAC,cACpDzB,IAAA,CAACd,KAAK,EAACsC,OAAO,cAAIxB,IAAA,OAAAuB,QAAA,CAAI,YAAU,CAAI,CAAE,CAAE,CAAC,EAGnC,CAAC,EACE,CAAC,CAED,CAAC,CACb,CAAC,CACQ,CAAC,CAErB,CAAC,CAED,cAAe,CAAAjC,aAAa,CAAC4B,MAAM,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}