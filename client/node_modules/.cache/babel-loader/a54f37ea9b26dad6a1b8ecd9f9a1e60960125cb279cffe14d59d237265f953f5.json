{"ast":null,"code":"import _regeneratorRuntime from\"/workspace/music_playlist/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspace/music_playlist/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/workspace/music_playlist/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/workspace/music_playlist/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/workspace/music_playlist/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useMutation}from\"@apollo/client\";import{ADD_USER}from\"../util/mutation\";import Auth from\"../util/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignUpForm(){var _useState=useState({name:\"\",email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=useMutation(ADD_USER),_useMutation2=_slicedToArray(_useMutation,2),addUser=_useMutation2[0],error=_useMutation2[1].error;var handleChange=function handleChange(evt){var value=evt.target.value;setFormState(_objectSpread(_objectSpread({},formState),{},_defineProperty({},evt.target.name,value)));};var handleFormSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return addUser({variables:{username:formState.name,email:formState.email,password:formState.password}});case 4:response=_context.sent;token=response.data.addUser.token;Auth.login(token);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[1,9]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"form-container sign-up-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create Account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"social-container\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"social\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-facebook-f\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"social\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-google-plus-g\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"social\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-linkedin-in\"})})]}),/*#__PURE__*/_jsx(\"span\",{children:\"or use your email for registration\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formState.name,onChange:handleChange,placeholder:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formState.email,onChange:handleChange,placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formState.password,onChange:handleChange,placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"button\",{className:\"ghost\",children:\"Sign Up\"})]})});}export default SignUpForm;","map":{"version":3,"names":["React","useState","useMutation","ADD_USER","Auth","jsx","_jsx","jsxs","_jsxs","SignUpForm","_useState","name","email","password","_useState2","_slicedToArray","formState","setFormState","_useMutation","_useMutation2","addUser","error","handleChange","evt","value","target","_objectSpread","_defineProperty","handleFormSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","token","wrap","_callee$","_context","prev","next","preventDefault","variables","username","sent","data","login","t0","console","stop","_x","apply","arguments","className","children","onSubmit","href","type","onChange","placeholder"],"sources":["/workspace/music_playlist/client/src/Components/SignUp.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useMutation } from \"@apollo/client\";\nimport { ADD_USER } from \"../util/mutation\";\nimport Auth from \"../util/auth\";\n\nfunction SignUpForm() {\n  const [formState, setFormState] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\"\n  });\n\n  const [addUser, { error }] = useMutation(ADD_USER);\n\n  const handleChange = evt => {\n    const value = evt.target.value;\n    setFormState({\n      ...formState,\n      [evt.target.name]: value\n    });\n  };\n\n  const handleFormSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await addUser({\n        variables: {\n          username: formState.name,\n          email: formState.email,\n          password: formState.password,\n        },\n      });\n\n      const token = response.data.addUser.token;\n      Auth.login(token);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <div className=\"form-container sign-up-container\">\n      <form onSubmit={handleFormSubmit}>\n        <h1>Create Account</h1>\n        <div className=\"social-container\">\n          <a href=\"#\" className=\"social\">\n            <i className=\"fab fa-facebook-f\" />\n          </a>\n          <a href=\"#\" className=\"social\">\n            <i className=\"fab fa-google-plus-g\" />\n          </a>\n          <a href=\"#\" className=\"social\">\n            <i className=\"fab fa-linkedin-in\" />\n          </a>\n        </div>\n        <span>or use your email for registration</span>\n        <input\n          type=\"text\"\n          name=\"name\"\n          value={formState.name}\n          onChange={handleChange}\n          placeholder=\"Name\"\n        />\n        <input\n          type=\"email\"\n          name=\"email\"\n          value={formState.email}\n          onChange={handleChange}\n          placeholder=\"Email\"\n        />\n        <input\n          type=\"password\"\n          name=\"password\"\n          value={formState.password}\n          onChange={handleChange}\n          placeholder=\"Password\"\n        />\n        <button className=\"ghost\">Sign Up</button>\n      </form>\n    </div>\n  );\n}\n\nexport default SignUpForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}